<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Divergent Lunch Scheduler</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Karla:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #1a472a;
            --primary-light: #2d5f3f;
            --accent: #d4af37;
            --bg-cream: #faf8f3;
            --text-dark: #2c2c2c;
            --border: #e8e4dc;
        }
        
        body {
            font-family: 'Karla', sans-serif;
            background: linear-gradient(135deg, #faf8f3 0%, #f5f1e8 100%);
            color: var(--text-dark);
            min-height: 100vh;
        }
        
        h1, h2, h3 {
            font-family: 'DM Serif Display', serif;
        }
        
        .gradient-text {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(26, 71, 42, 0.08);
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            box-shadow: 0 8px 30px rgba(26, 71, 42, 0.12);
            transform: translateY(-2px);
        }
        
        .month-selector {
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 12px 24px;
            border-radius: 12px;
            border: 2px solid var(--border);
            background: white;
        }
        
        .month-selector.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            font-weight: 600;
        }
        
        .month-selector:hover:not(.active) {
            border-color: var(--primary-light);
            background: #f0f7f0;
        }
        
        .week-tab {
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }
        
        .week-tab.active {
            color: var(--primary);
            border-bottom-color: var(--accent);
            font-weight: 600;
        }
        
        .week-tab:hover:not(.active) {
            color: var(--primary-light);
        }
        
        .day-column {
            border-right: 1px solid var(--border);
            min-width: 200px;
        }
        
        .day-column:last-child {
            border-right: none;
        }
        
        .person-slot {
            padding: 8px 12px;
            margin: 4px 0;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.2s ease;
        }
        
        .slot-1 {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border-left: 3px solid #4caf50;
        }
        
        .slot-2 {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            border-left: 3px solid #ff9800;
        }
        
        .slot-3 {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-left: 3px solid #2196f3;
        }
        
        .slot-4 {
            background: linear-gradient(135deg, #fce4ec 0%, #f8bbd0 100%);
            border-left: 3px solid #e91e63;
        }
        
        .slot-5 {
            background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
            border-left: 3px solid #9c27b0;
        }
        
        .person-slot:hover {
            transform: translateX(4px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .stats-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin: 2px;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-in {
            animation: slideIn 0.5s ease-out forwards;
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-7xl mx-auto">
        <!-- Header -->
        <div class="text-center mb-8 animate-in">
            <h1 class="text-3xl md:text-6xl font-bold gradient-text mb-3 sm:mb-5">Divergent Lunch Scheduler</h1>
            <div class="mt-4 flex justify-center gap-4 flex-wrap">
                <div class="stats-badge bg-blue-100 text-blue-800">4 Seats per Slot</div>
                <div class="stats-badge bg-purple-100 text-purple-800">4 Time Slots Daily</div>
            </div>
        </div>

        <!-- Month Selector -->
        <div class="card p-6 mb-6 animate-in" style="animation-delay: 0.1s">
            <h3 class="text-xl font-bold mb-4 text-center">Select Month</h3>
            <div class="flex justify-center gap-3 flex-wrap" id="monthSelector"></div>
        </div>

        <!-- Week Tabs -->
        <div class="card p-6 mb-6 animate-in" style="animation-delay: 0.2s">
            <div class="flex justify-center gap-2 md:gap-6 flex-wrap" id="weekTabs"></div>
        </div>
        
        <!-- Schedule Container -->
        <div id="scheduleContainer"></div>

        <!-- Footer -->
        <div class="card p-6 mt-6 animate-in text-center" style="animation-delay: 0.4s">
          <p>Powered By @<span class="font-bold">Divergent Developer Team</span></p>
        </div>
    </div>

    <script>
        // Team members data
        const teamMembers = [
            { id: 1, name: "Doctor" },
            { id: 2, name: "Shourov" },
            { id: 3, name: "Shakil" },
            { id: 4, name: "Sihab" },
            { id: 5, name: "Mahmudul" },
            { id: 6, name: "Simul" },
            { id: 7, name: "Soumik" },
            { id: 8, name: "TL Foysal Ahmed" },
            { id: 9, name: "Faisal" },
            { id: 10, name: "Monir" },
            { id: 11, name: "Sakib" },
            { id: 12, name: "Siam" },
            { id: 13, name: "Shodorson" },
            { id: 14, name: "Nur Nabi" },
            { id: 15, name: "IT Kabbik" },
            { id: 16, name: "Nahin" }
        ];

        const months = [
            { name: 'February 2026', month: 1, year: 2026, weeks: 4, startDay: 0 },
            { name: 'March 2026', month: 2, year: 2026, weeks: 4, startDay: 0 },
            { name: 'April 2026', month: 3, year: 2026, weeks: 4, startDay: 3 },
            { name: 'May 2026', month: 4, year: 2026, weeks: 4, startDay: 5 },
            { name: 'June 2026', month: 5, year: 2026, weeks: 4, startDay: 1 },
            { name: 'July 2026', month: 6, year: 2026, weeks: 5, startDay: 3 },
            { name: 'August 2026', month: 7, year: 2026, weeks: 4, startDay: 6 },
            { name: 'September 2026', month: 8, year: 2026, weeks: 4, startDay: 2 },
            { name: 'October 2026', month: 9, year: 2026, weeks: 5, startDay: 4 },
            { name: 'November 2026', month: 10, year: 2026, weeks: 4, startDay: 0 },
            { name: 'December 2026', month: 11, year: 2026, weeks: 5, startDay: 2 }
        ];

        const daysOfWeek = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday'];
        const seatsPerSlot = 4;
        const slotsPerDay = 5;

        let currentMonth = 0;
        let currentWeek = 1;
        let allMonthSchedules = {};

        // Get current month index based on today's date
        function getCurrentMonthIndex() {
            const today = new Date();
            const currentYear = today.getFullYear();
            const currentMonthNum = today.getMonth(); // 0-11 (Jan = 0, Feb = 1, etc.)
            
            // Find the index of the current month in our months array
            for (let i = 0; i < months.length; i++) {
                if (months[i].year === currentYear && months[i].month === currentMonthNum) {
                    return i;
                }
            }
            
            // If current month not found, default to first month
            return 0;
        }

        // Shuffle array using Fisher-Yates algorithm with seed
        function seededShuffle(array, seed) {
            const arr = [...array];
            let currentIndex = arr.length;
            
            // Simple seeded random number generator
            function seededRandom() {
                seed = (seed * 9301 + 49297) % 233280;
                return seed / 233280;
            }
            
            while (currentIndex !== 0) {
                const randomIndex = Math.floor(seededRandom() * currentIndex);
                currentIndex--;
                [arr[currentIndex], arr[randomIndex]] = [arr[randomIndex], arr[currentIndex]];
            }
            
            return arr;
        }

        // Generate unique schedule for each month - each person appears only once per day
        function generateMonthSchedule(monthIndex) {
            const schedule = {};
            const month = months[monthIndex];
            
            for (let week = 1; week <= month.weeks; week++) {
                schedule[week] = {};
                
                for (let dayIndex = 0; dayIndex < daysOfWeek.length; dayIndex++) {
                    const day = daysOfWeek[dayIndex];
                    
                    // Create a seed based on month, week, and day for consistent but different schedules
                    const seed = monthIndex * 1000 + week * 100 + dayIndex;
                    
                    // Shuffle team members for this specific day
                    const shuffledMembers = seededShuffle(teamMembers, seed);
                    
                    // Distribute people into slots - each person appears ONLY ONCE
                    // We have 16 people and 5 slots with 4 seats each (20 total seats)
                    // So 16 people will fill 4 complete slots, leaving 4 empty seats in the 5th slot
                    const daySlots = [];
                    let personIndex = 0;
                    
                    for (let slot = 0; slot < slotsPerDay; slot++) {
                        const slotPeople = [];
                        
                        for (let seat = 0; seat < seatsPerSlot; seat++) {
                            // Only add person if we haven't used all 16 people yet
                            if (personIndex < shuffledMembers.length) {
                                slotPeople.push(shuffledMembers[personIndex]);
                                personIndex++;
                            }
                        }
                        
                        // Only add slot if it has people in it
                        if (slotPeople.length > 0) {
                            daySlots.push(slotPeople);
                        }
                    }
                    
                    schedule[week][day] = daySlots;
                }
            }
            
            return { schedule };
        }

        // Generate all month schedules
        function generateAllSchedules() {
            months.forEach((month, index) => {
                allMonthSchedules[index] = generateMonthSchedule(index);
            });
        }

        // Create month selector buttons
        function createMonthSelector() {
            const container = document.getElementById('monthSelector');
            let html = '';
            
            months.forEach((month, index) => {
                const activeClass = index === currentMonth ? 'active' : '';
                html += `<button class="month-selector ${activeClass}" onclick="selectMonth(${index})">
                    ${month.name}
                </button>`;
            });
            
            container.innerHTML = html;
        }

        // Create week tabs for current month
        function createWeekTabs() {
            const container = document.getElementById('weekTabs');
            const month = months[currentMonth];
            let html = '';
            
            for (let week = 1; week <= month.weeks; week++) {
                const activeClass = week === currentWeek ? 'active' : '';
                html += `<div class="week-tab ${activeClass} px-6 py-3" onclick="selectWeek(${week})">
                    <div class="text-lg font-semibold">Week ${week}</div>
                </div>`;
            }
            
            container.innerHTML = html;
        }

        // Select month
        function selectMonth(monthIndex) {
            currentMonth = monthIndex;
            currentWeek = 1;
            createMonthSelector();
            createWeekTabs();
            showSchedule();
        }

        // Select week
        function selectWeek(weekNumber) {
            currentWeek = weekNumber;
            createWeekTabs();
            showSchedule();
        }

        // Display schedule for current month and week
        function showSchedule() {
            const monthData = allMonthSchedules[currentMonth];
            const weekSchedule = monthData.schedule[currentWeek];
            
            let html = '<div class="card p-6 animate-in">';
            html += `<h2 class="text-3xl font-bold mb-6 text-center gradient-text">${months[currentMonth].name} - Week ${currentWeek}</h2>`;
            html += '<div class="overflow-x-auto">';
            html += '<div class="grid grid-cols-5 gap-4" style="min-width: 1000px;">';
            
            daysOfWeek.forEach(day => {
                html += `<div class="day-column p-4">`;
                html += `<h3 class="text-xl font-bold text-center mb-4 text-gray-800">${day}</h3>`;
                
                const daySlots = weekSchedule[day];
                
                daySlots.forEach((slotPeople, slotIndex) => {
                    html += `<div class="mb-6">`;
                    html += `<div class="text-xs font-semibold text-gray-500 mb-2 text-center">SLOT ${slotIndex + 1}</div>`;
                    
                    slotPeople.forEach(person => {
                        html += `<div class="person-slot slot-${slotIndex + 1}">`;
                        html += `<div class="font-semibold">${person.name}</div>`;
                        html += `</div>`;
                    });
                    
                    html += `</div>`;
                });
                
                html += `</div>`;
            });
            
            html += '</div></div></div>';
            
            document.getElementById('scheduleContainer').innerHTML = html;
        }
 
        // Initialize - Start with current month
        generateAllSchedules();
        currentMonth = getCurrentMonthIndex();
        createMonthSelector();
        createWeekTabs();
        showSchedule();
    </script>
</body>
</html>